description:
    name: null_spec
    description: run N_SAMPLES null steps.

env:
    variables:
        N_SAMPLES: 10

study:
    - name: null_step
      description: exit immediately
      run:
        cmd: |
            echo $(SAMPLE)
            exit $(MERLIN_SUCCESS)

    - name: collect_times
      description: extract the start and end times
      run:
        cmd: echo "hi"
        depends: [null_step_*]

merlin:
    resources:
        workers:
            null_worker:
                args: -O fair --prefetch-multiplier 1 -E -l info --concurrency 1 --logfile=%%p.log
    samples:
        generate:
            cmd: for i in {1..$(N_SAMPLES)} ; do echo $i ; done >> $(MERLIN_INFO)/samples.csv
        file: $(MERLIN_INFO)/samples.csv
        column_labels: [SAMPLE]
